<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">

    <!-- Modern PWA capabilities -->
    <meta name="theme-color" content="#4CAF50">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

    <!-- iOS-specific (legacy but still needed) -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-touch-fullscreen" content="yes">

    <!-- Web App Manifest -->
    <link rel="manifest" href="manifest.json">

    <title>Snake Game - Classic Arcade with Modern Features</title>

    <!-- Primary Meta Tags -->
    <meta name="title" content="Snake Game - Classic Arcade with Modern Features">
    <meta name="description" content="Play the nostalgic Snake game reimagined with day-night cycles, dynamic soundtrack, and modern gameplay mechanics. Free to play in your browser!">
    <meta name="keywords" content="snake game, arcade game, browser game, canvas game, javascript game, retro game, day-night cycle, dynamic soundtrack">
    <meta name="author" content="Peter Adrianov">
    <meta name="robots" content="index, follow">
    <meta name="language" content="English">
    <meta name="canonical" href="https://snake-game.app/">

    <!-- Open Graph / Facebook Meta Tags -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://snake-game.app/">
    <meta property="og:title" content="Snake Game - Classic Arcade with Modern Features">
    <meta property="og:description" content="Classic Snake game with a mesmerizing soundtrack, day-night cycles, and modern gameplay. Experience nostalgic gaming with an amazing twist!">
    <meta property="og:image" content="/img/snake1-og.jpg">
    <meta property="og:image:width" content="1200">
    <meta property="og:image:height" content="630">
    <meta property="og:image:alt" content="Snake Game with starry night background">
    <meta property="og:image:type" content="image/jpeg">
    <!-- Additional square image format for better Telegram compatibility -->
    <meta property="og:image" content="/img/snake1.png">
    <meta property="og:image:width" content="800">
    <meta property="og:image:height" content="800">
    <meta property="og:image:alt" content="Snake Game screenshot">
    <meta property="og:image:type" content="image/png">
    <meta property="og:site_name" content="Snake Game">
    <meta property="og:locale" content="en_US">

    <!-- Twitter Meta Tags -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:url" content="https://snake-game.app/">
    <meta name="twitter:title" content="Snake Game - Classic Arcade with Modern Features">
    <meta name="twitter:description" content="Classic Snake game with mesmerizing soundtrack, day-night cycles, and modern gameplay. Play for free in your browser!">
    <meta name="twitter:image" content="/img/snake1-og.jpg">
    <meta name="twitter:image:alt" content="Snake Game with starry night background">

    <!-- Additional tags for better Telegram compatibility -->
    <meta itemprop="image" content="/img/snake1.png">
    <link rel="image_src" href="/img/snake1.png">

    <!-- Stylesheets -->
    <link rel="stylesheet" href="css/styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;700&display=swap" rel="stylesheet">

    <!-- Favicon -->
    <link rel="icon" type="image/svg+xml" href="img/favicon.svg">
    <link rel="icon" type="image/png" sizes="196x196" href="img/favicon-196x196.png">
    <link rel="icon" type="image/png" sizes="128x128" href="img/favicon-128x128.png">
    <link rel="icon" type="image/png" sizes="32x32" href="img/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="img/favicon-16x16.png">
    <link rel="shortcut icon" href="img/favicon.ico">

    <!-- Apple Touch Icons -->
    <link rel="apple-touch-icon" href="img/apple-touch-icon.png">
    <link rel="apple-touch-icon" sizes="152x152" href="img/apple-touch-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="167x167" href="img/apple-touch-icon-167x167.png">
    <link rel="apple-touch-icon" sizes="180x180" href="img/apple-touch-icon-180x180.png">

    <!-- JSON-LD Structured Data -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "VideoGame",
      "name": "Snake Game",
      "description": "A modern implementation of the classic Snake game with day-night cycles, dynamic soundtrack, and innovative gameplay mechanics.",
      "image": "/img/snake1-og.jpg",
      "url": "https://snake-game.app/",
      "author": {
        "@type": "Person",
        "name": "Peter Adrianov"
      },
      "genre": "Arcade",
      "playMode": "SinglePlayer",
      "applicationCategory": "Game",
      "operatingSystem": "Web Browser"
    }
    </script>
</head>
<body>
    <div class="game-layout">
        <!-- Header with buttons -->
        <header class="game-header">
            <div class="header-buttons">
                <button id="aboutButton" class="btn control-button" title="About the Game">
                    <span class="btn-icon button-icon">‚Ñπ</span>
                    <span class="btn-text button-text">About</span>
                </button>

                <button id="donateButton" class="btn control-button" title="Support this project">
                    <span class="btn-icon button-icon">‚ù§</span>
                    <span class="btn-text button-text">Donate</span>
                </button>

                <a href="https://github.com/adrianov/snake" target="_blank" class="btn control-button github-button" title="View on GitHub">
                    <span class="btn-icon button-icon">
                        <img src="img/github-icon.svg" alt="GitHub" class="github-icon">
                    </span>
                    <span class="btn-text button-text">GitHub</span>
                </a>
            </div>
        </header>

        <!-- Main content container -->
        <main class="main-container">
            <!-- Game container -->
            <div class="game-container">
                <!-- Game canvas wrapper -->
                <div class="canvas-wrapper">
                    <canvas id="gameCanvas"></canvas>
                </div>

                <!-- Game controls and info -->
                <div class="game-controls">
                    <!-- Control tips for desktop -->
                    <div class="desktop-only-tip">
                        <span class="tip-item">‚Üê ‚Üí ‚Üë ‚Üì to move</span>
                        <span class="tip-item">Opposite direction to slow down</span>
                        <span class="tip-item">Space to pause</span>
                    </div>

                    <!-- Mobile Arrow Controls - Only visible on touch devices -->
                    <div id="mobileArrowControls" class="mobile-arrow-controls">
                        <div class="arrow-controls-container">
                            <div class="arrow-button-row">
                                <div class="spacer"></div>
                                <button id="upArrow" class="arrow-button" aria-label="Up">
                                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="100%" height="100%">
                                        <path d="M12 4l-8 8h5v8h6v-8h5z" fill="currentColor"/>
                                    </svg>
                                </button>
                                <div class="spacer"></div>
                            </div>
                            <div class="arrow-button-row">
                                <button id="leftArrow" class="arrow-button" aria-label="Left">
                                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="100%" height="100%">
                                        <path d="M4 12l8-8v5h8v6h-8v5z" fill="currentColor"/>
                                    </svg>
                                </button>
                                <button id="downArrow" class="arrow-button" aria-label="Down">
                                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="100%" height="100%">
                                        <path d="M12 20l8-8h-5V4h-6v8H4z" fill="currentColor"/>
                                    </svg>
                                </button>
                                <button id="rightArrow" class="arrow-button" aria-label="Right">
                                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="100%" height="100%">
                                        <path d="M20 12l-8-8v5H4v6h8v5z" fill="currentColor"/>
                                    </svg>
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- Mobile-only tip -->
                    <div class="mobile-only-tip">
                        <span class="tip-item">Opposite direction to slow down</span>
                        <span class="tip-item">Swipe gestures also available</span>
                    </div>

                    <!-- Game score section -->
                    <div class="score-container">
                        <div class="score-item">
                            <span class="score-label">Score</span>
                            <span class="score-value" id="score">0</span>
                        </div>
                        <div class="music-info">
                            <div id="soundToggle" class="control-toggle" title="Toggle Sound (S key)">
                                <span class="control-icon sound-on">üîä</span>
                                <span class="control-icon sound-off hidden">üîá</span>
                                <span class="control-label">S</span>
                            </div>
                            <div class="melody-display">
                                <div class="melody-content">
                                    <span id="currentMelody"><span class="music-icon">‚ô´</span><span class="melody-text"></span></span>
                                </div>
                                <span class="control-label">N</span>
                            </div>
                            <div id="musicToggle" class="control-toggle" title="Toggle Music (M key)">
                                <span class="control-icon music-on">‚ô´</span>
                                <span class="control-icon music-off hidden">‚ô™</span>
                                <span class="control-label">M</span>
                            </div>
                        </div>
                        <div class="score-item high-score-container">
                            <span class="score-label">High Score</span>
                            <span class="score-value" id="highScore">0</span>
                            <button id="resetHighScore" class="reset-button" title="Reset High Score">‚Ü∫</button>
                        </div>
                    </div>
                </div>
            </div>
        </main>

        <!-- Footer -->
        <footer class="game-footer">
            <p>¬© Peter Adrianov, 2025</p>
        </footer>
    </div>

    <!-- Donation Panel -->
    <div id="donationPanel" class="donation-panel">
        <div class="donation-header panel-header">
            <h3>Support Snake Game</h3>
            <button id="closeDonationPanel" class="close-button panel-close-button">√ó</button>
        </div>
        <div class="donation-content">
            <div class="donation-method">
                <h4>Sber Bank Transfer</h4>
                <div class="qr-code-container">
                    <a href="https://www.sberbank.com/sms/pbpn?requisiteNumber=79057632663" target="_blank" rel="nofollow" class="qr-code-link">
                        <div class="qr-code">
                            <img src="img/sber-qr.png" alt="Sber Bank QR Code" class="qr-image">
                        </div>
                    </a>
                    <span class="qr-label">Scan or click to donate via Sber Bank (SBP)</span>
                </div>
            </div>
            <div class="donation-method">
                <h4>USDT (TRC20)</h4>
                <div class="qr-code-container">
                    <a href="https://t.me/wallet" target="_blank" rel="nofollow" class="qr-code-link">
                        <div class="qr-code">
                            <img src="img/usdt-trc20-qr.png" alt="USDT TRC20 QR Code" class="qr-image">
                        </div>
                    </a>
                    <span class="qr-label">Use Telegram @wallet or any preferred wallet to donate via USDT on TRC20</span>
                    <div class="crypto-address-container">
                        <input type="text" readonly value="TSeDwNMq6rpm1vf94dXVC4gB93R3iMm6TE" class="crypto-address" id="usdt-address">
                        <button class="copy-btn" data-address="usdt-address" title="Copy USDT address">
                            <span class="copy-icon">üìã</span>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- About Panel (formerly Help Panel) -->
    <article id="aboutPanel" class="panel about-panel">
        <header class="about-header panel-header">
            <h1>About Snake Game</h1>
            <button id="closeAboutPanel" class="close-button panel-close-button" aria-label="Close about panel">√ó</button>
        </header>
        <div class="panel-content-area">
            <h2>Classic Snake Game with Modern Features</h2>
            <p>Experience the nostalgic Snake game reimagined with beautiful visuals and innovative gameplay mechanics. Control a hungry snake as it navigates through a grid, eating fruits and growing longer with each bite while avoiding collisions.</p>

            <h3>Key Features</h3>
            <ul>
                <li><strong>Day-Night Cycle:</strong> The background gradually transitions from day to night as your snake grows longer.</li>
                <li><strong>Dynamic Soundtrack:</strong> Enjoy a procedurally generated soundtrack that evolves as you play.</li>
                <li><strong>Diverse Fruits:</strong> Collect different types of fruits (apples, bananas, oranges, strawberries) with varying point values.</li>
                <li><strong>Adaptive Difficulty:</strong> The game becomes progressively challenging as your score increases.</li>
                <li><strong>Unique Gameplay Mechanics:</strong> Slow down by pressing the opposite direction, with luck-based collision evasion and tail-cutting features.</li>
            </ul>

            <h3>How to Play</h3>
            <p>Use the arrow keys (desktop) or swipe gestures (mobile) to control the snake's direction. Collect fruits to grow longer and increase your score. Press the opposite direction key to slow down. Avoid hitting walls and your own tail!</p>

            <div class="controls-info">
                <div class="desktop-controls">
                    <h4>Desktop Controls:</h4>
                    <ul>
                        <li>Arrow Keys (‚Üê‚Üí‚Üë‚Üì): Change direction</li>
                        <li>Space: Pause/Resume game</li>
                        <li>M: Toggle music</li>
                        <li>S: Toggle sound effects</li>
                    </ul>
                </div>
                <div class="mobile-controls">
                    <h4>Mobile Controls:</h4>
                    <ul>
                        <li>Swipe: Change direction</li>
                        <li>On-screen arrows: Control snake</li>
                        <li>Tap music/sound icons: Toggle audio</li>
                    </ul>
                </div>
            </div>

            <h3>The Evolution of Snake</h3>
            <p>Snake has a rich history dating back to the 1970s arcade game Blockade. It gained mainstream popularity in the late 1990s when it was pre-installed on Nokia mobile phones. This version modernizes the classic gameplay with contemporary features while preserving the addictive simplicity that made the original so beloved.</p>

            <footer>
                <div class="cta-buttons">
                    <button id="playNowButton" class="cta-button play-button">Play Now</button>
                    <button id="aboutDonateButton" class="cta-button donate-button">Support Project</button>
                    <a href="https://github.com/adrianov/snake" class="cta-button github-button" target="_blank">Explore Code</a>
                </div>
            </footer>
        </div>

        <!-- Schema.org metadata (hidden but accessible to search engines) -->
        <div class="metadata-container">
            <div itemscope itemtype="http://schema.org/SoftwareApplication">
                <meta itemprop="applicationCategory" content="Game" />
                <meta itemprop="operatingSystem" content="Web Browser" />
                <meta itemprop="name" content="Snake Game" />
                <meta itemprop="description" content="A modern implementation of the classic Snake game with day-night cycles, dynamic soundtrack, and innovative gameplay mechanics." />
                <div itemprop="offers" itemscope itemtype="http://schema.org/Offer">
                    <meta itemprop="price" content="0" />
                    <meta itemprop="priceCurrency" content="USD" />
                    <meta itemprop="availability" content="http://schema.org/InStock" />
                </div>
                <div itemprop="author" itemscope itemtype="http://schema.org/Person">
                    <meta itemprop="name" content="Peter Adrianov" />
                </div>
                <meta itemprop="keywords" content="snake game, arcade game, browser game, canvas game, javascript game, retro game, day-night cycle, dynamic soundtrack" />
                <meta itemprop="softwareVersion" content="1.0" />
                <meta itemprop="datePublished" content="2023-05-01" />
                <meta itemprop="image" content="/img/snake1-og.jpg" />
                <meta itemprop="url" content="https://snake-game.app/" />
            </div>
        </div>
    </article>

    <!-- Load melody data -->
    <script src="js/MusicSheets.js"></script>

    <!-- Load game constants -->
    <script src="js/Constants.js"></script>

    <!-- Load game files -->
    <script src="js/Fruits.js"></script>
    <script src="js/SoundManager.js"></script>
    <script src="js/MusicManager.js"></script>

    <!-- Load extracted manager classes -->
    <script src="js/TipsManager.js"></script>
    <script src="js/BackgroundManager.js"></script>
    <script src="js/StarfieldManager.js"></script>

    <!-- Load remaining drawing classes -->
    <script src="js/SnakeDrawer.js"></script>
    <script src="js/MoonDrawer.js"></script>
    <script src="js/UIOverlayManager.js"></script>
    <script src="js/SceneDrawer.js"></script>
    <script src="js/GameDrawer.js"></script>
    <script src="js/UIManager.js"></script>

    <!-- Load extracted classes -->
    <script src="js/Snake.js"></script>
    <script src="js/FoodManager.js"></script>
    <script src="js/GameStateManager.js"></script>
    <script src="js/GameLoop.js"></script>

    <!-- Load new utility classes and managers -->
    <script src="js/GameUtils.js"></script>
    <script src="js/AudioManager.js"></script>
    <script src="js/InputManager.js"></script>

    <!-- Load main game -->
    <script src="js/Game.js"></script>

    <!-- Load panel manager -->
    <script src="js/PanelManager.js"></script>
</body>
</html>
