// Initialize global MusicData object if it doesn't exist
window.MusicData = window.MusicData || {};

// Define all melodies in a single object
window.MusicData.MELODIES = {
    'tetris': {
        name: 'Korobeiniki (Tetris Theme)',
        tempo: 120,
        melody: [
            // Main Theme with integrated bass (Traditional Russian folk song)
            [0.5, ['E5', 'E3']], [0.25, 'B4'], [0.25, 'C5'], [0.25, 'D5'], [0.5, ['C5', 'E3']], [0.25, 'B4'],
            [0.5, ['A4', 'A3']], [0.25, 'A4'], [0.25, 'C5'], [0.25, 'E5'], [0.5, ['D5', 'A3']], [0.25, 'C5'],
            [0.5, ['B4', 'G#3']], [0.25, 'B4'], [0.25, 'C5'], [0.25, 'D5'], [0.5, ['E5', 'G#3']], [0.5, 'C5'],
            [0.5, ['A4', 'A3']], [0.5, 'A4'], [0.75, 'REST'],

            // Second phrase with integrated bass
            [0.25, ['D5', 'D3']], [0.5, 'F5'], [0.25, 'A5'], [0.5, ['G5', 'D3']], [0.25, 'F5'],
            [0.5, ['E5', 'A3']], [0.25, 'E5'], [0.25, 'C5'], [0.25, 'E5'], [0.5, ['D5', 'A3']], [0.25, 'C5'],
            [0.5, ['B4', 'G#3']], [0.25, 'B4'], [0.25, 'C5'], [0.25, 'D5'], [0.5, ['E5', 'G#3']], [0.5, 'C5'],
            [0.5, ['A4', 'A3']], [0.5, 'A4'], [0.75, 'REST'],

            // Second Part with integrated bass
            [0.5, ['E4', 'A2']], [0.5, ['C4', 'E3']], [0.5, ['D4', 'A2']], [0.5, ['B3', 'E3']],
            [0.5, ['C4', 'A2']], [0.5, ['A3', 'E3']],
            [0.5, ['G#3', 'A2']], [0.5, ['B3', 'E3']], [1.0, ['E4', 'E2']],
            [0.5, ['C4', 'A2']], [0.5, ['D4', 'E3']], [0.5, ['B3', 'A2']],
            [0.5, ['C4', 'E3']], [0.25, 'E4'], [0.5, 'A4'], [0.5, 'G#4'], [1.0, 'E4'],

            // Final Section with Chords
            [0.5, ['E5', 'E3']], [0.25, 'B4'], [0.25, 'C5'], [0.25, 'D5'], [0.5, ['C5', 'E3']], [0.25, 'B4'],
            [0.5, ['A4', 'A3']], [0.25, 'A4'], [0.25, 'C5'], [0.25, 'E5'], [0.5, ['D5', 'A3']], [0.25, 'C5'],
            [0.5, ['B4', 'G#3']], [0.25, 'B4'], [0.25, 'C5'], [0.25, 'D5'], [0.5, ['E5', 'G#3']], [0.5, 'C5'],
            [0.5, ['A4', 'A3']], [0.5, 'A4'], [1.0, 'REST'],

            // Final chord progression
            [1.0, ['A4', 'C5', 'E5', 'A3']], // A minor chord with bass
            [1.0, ['E4', 'G#4', 'B4', 'E3']], // E major chord with bass
            [1.0, ['A4', 'C5', 'E5', 'A2']]   // A minor chord with bass
        ]
    },
    'fur-elise': {
        name: 'Für Elise',
        tempo: 72,
        melody: [
            // Main theme with bass - Beethoven's original
            [0.25, ['E5', 'E2']], [0.25, 'D#5'], [0.25, 'E5'], [0.25, 'D#5'], [0.25, ['E5', 'E2']],
            [0.25, ['B4', 'G#2']], [0.25, ['D5', 'E3']], [0.25, ['C5', 'A2']], [0.5, ['A4', 'A2']], [0.5, 'REST'],
            [0.25, ['C4', 'A2']], [0.25, ['E4', 'E2']], [0.25, ['A4', 'A2']], [0.5, ['B4', 'E2']], [0.5, 'REST'],
            [0.25, ['E4', 'E2']], [0.25, ['G#4', 'B2']], [0.25, ['B4', 'E3']], [0.5, ['C5', 'A2']], [0.5, 'REST'],
            [0.25, ['E4', 'E2']], [0.25, ['E5', 'E3']], [0.25, 'D#5'], [0.25, 'E5'], [0.25, 'D#5'],
            [0.25, ['E5', 'E2']], [0.25, ['B4', 'G#2']], [0.25, ['D5', 'E3']], [0.25, ['C5', 'A2']], [0.5, ['A4', 'A2']],
            [0.5, 'REST'], [0.25, ['C4', 'A2']], [0.25, ['E4', 'E2']], [0.25, ['A4', 'A2']], [0.5, ['B4', 'E2']],
            [0.5, 'REST'], [0.25, ['E4', 'E2']], [0.25, ['C5', 'A2']], [0.25, ['B4', 'E2']], [0.5, ['A4', 'A2']],
            // Second section with bass harmony
            [0.5, ['B4', 'E2']], [0.25, ['C5', 'A2']], [0.25, ['D5', 'F#2']], [0.5, ['E5', 'G#2']], [0.5, ['G4', 'E2']],
            [0.25, ['F5', 'D2']], [0.25, ['E5', 'A2']], [0.5, ['D5', 'F#2']], [0.5, ['F4', 'D2']], [0.25, ['E5', 'A2']],
            [0.25, ['D5', 'F#2']], [0.5, ['C5', 'A2']], [0.5, ['E4', 'E2']], [0.25, ['D5', 'F#2']], [0.25, ['C5', 'A2']],
            [0.5, ['B4', 'E2']], [0.5, 'REST'],
            // Final chord
            [1.0, ['E4', 'G#4', 'B4', 'E3']] // E major chord with bass
        ]
    },
    'mario': {
        name: 'Super Mario Bros. Theme',
        tempo: 100,
        melody: [
            // Koji Kondo's iconic theme with bass accompaniment
            [0.25, ['E5', 'C3']], [0.25, 'E5'], [0.25, 'REST'], [0.25, 'E5'], [0.25, 'REST'],
            [0.25, 'C5'], [0.25, 'E5'], [0.5, ['G5', 'C3']], [0.5, 'REST'], [0.5, ['G4', 'G2']],
            [0.5, 'REST'], [0.5, ['C5', 'C3']], [0.5, 'REST'], [0.5, ['G4', 'G2']],
            [0.5, 'REST'], [0.5, ['E4', 'C3']], [0.5, 'REST'], [0.5, ['A4', 'A2']],
            [0.25, ['B4', 'G2']], [0.25, ['A#4', 'G#2']], [0.25, ['A4', 'F#2']], [0.5, ['G4', 'G2']], [0.25, ['E5', 'C3']],
            [0.25, ['G5', 'E3']], [0.25, ['A5', 'F3']], [0.5, ['F5', 'D3']], [0.25, ['G5', 'E3']], [0.5, ['E5', 'C3']],
            [0.25, ['C5', 'A2']], [0.25, ['D5', 'B2']], [0.25, ['B4', 'G2']], [0.5, ['C5', 'C3']], [0.5, 'REST'],
            // Underwater section
            [0.5, ['E5', 'C3']], [0.5, ['E5', 'G3']], [0.5, ['E5', 'C4']], [0.5, ['C5', 'E3']],
            [0.5, ['G4', 'C3']], [0.5, ['G#4', 'C#3']], [0.5, ['A4', 'D3']], [0.5, ['F5', 'D3']],
            // Final chord
            [1.0, ['C5', 'E5', 'G5', 'C4']], // C major chord
            [1.0, ['C3', 'G3', 'C4', 'E4', 'G4']] // C major full orchestral chord
        ]
    },
    'star-wars': {
        name: 'Star Wars Main Theme',
        tempo: 108,
        melody: [
            // John Williams' iconic theme with orchestral bass
            [0.5, 'REST'], [0.5, ['C4', 'C3']], [0.5, ['G4', 'C3']], [0.5, ['F4', 'F3']], [0.25, 'E4'], [0.25, 'D4'],
            [0.5, ['C5', 'C3']], [0.5, ['G4', 'G2']], [0.25, 'F4'], [0.25, 'E4'], [0.25, 'D4'], [0.5, ['C5', 'C3']],
            [0.5, ['G4', 'G2']], [0.25, 'F4'], [0.25, 'E4'], [0.25, 'F4'], [0.5, ['D4', 'D3']], [0.5, 'REST'],
            [0.5, ['C4', 'C3']], [0.5, ['G4', 'C3']], [0.5, ['F4', 'F3']], [0.25, 'E4'], [0.25, 'D4'],
            [0.5, ['C5', 'C3']], [0.5, ['G4', 'G2']], [0.25, 'F4'], [0.25, 'E4'], [0.25, 'D4'], [0.5, ['C5', 'C3']],
            [0.5, ['G4', 'G2']], [0.25, 'F4'], [0.25, 'E4'], [0.25, 'F4'], [0.5, ['D4', 'D3']], [0.5, 'REST'],
            // Counter melody with bass
            [0.5, ['F4', 'F3']], [0.25, 'F4'], [0.5, ['F4', 'F3']], [0.5, ['E4', 'E3']], [0.25, 'D4'],
            [0.5, ['C4', 'C3']], [0.5, ['C4', 'C3']], [0.5, ['D4', 'D3']], [0.5, ['F4', 'F3']], [0.5, ['C5', 'C4']],
            [0.5, ['A4', 'A3']], [0.5, ['G4', 'G3']], [1.0, ['F4', 'F3']], [0.5, 'REST'],
            // Final chord
            [1.0, ['C4', 'E4', 'G4', 'C5']], // C major chord
            [1.0, ['C3', 'G3', 'C4', 'E4', 'G4']] // C major full orchestral chord
        ]
    },
    'imperial-march': {
        name: 'Imperial March (Darth Vader\'s Theme)',
        tempo: 104,
        melody: [
            // John Williams' Imperial March with bass accompaniment
            [0.5, ['G3', 'G2']], [0.5, ['G3', 'G2']], [0.5, ['G3', 'G2']], [0.375, ['E♭3', 'E♭2']], [0.125, ['B♭3', 'B♭2']],
            [0.5, ['G3', 'G2']], [0.375, ['E♭3', 'E♭2']], [0.125, ['B♭3', 'B♭2']], [1.0, ['G3', 'G2']], [0.5, 'REST'],

            [0.5, ['D4', 'D3']], [0.5, ['D4', 'D3']], [0.5, ['D4', 'D3']], [0.375, ['E♭4', 'E♭3']], [0.125, ['B♭3', 'B♭2']],
            [0.5, ['G♭3', 'G♭2']], [0.375, ['E♭3', 'E♭2']], [0.125, ['B♭3', 'B♭2']], [1.0, ['G3', 'G2']], [0.5, 'REST'],

            // Second section with stronger bass
            [0.5, ['G4', 'G3']], [0.375, ['G3', 'G2']], [0.125, ['G3', 'G2']], [0.5, ['G4', 'G3']], [0.375, ['F4', 'F3']], [0.125, ['E4', 'E3']],
            [0.5, ['E♭4', 'E♭3']], [0.375, ['D4', 'D3']], [0.125, ['E♭4', 'E♭3']], [0.25, ['B♭3', 'B♭2']], [0.25, ['D4', 'D3']], [0.25, ['B♭3', 'B♭2']], [0.25, ['D4', 'D3']],
            [0.5, ['G4', 'G3']], [0.375, ['E♭4', 'E♭3']], [0.125, ['G4', 'G3']], [0.5, ['B♭4', 'B♭3']], [0.375, ['G4', 'G3']], [0.125, ['D5', 'D4']],

            // Final section with full orchestration
            [0.5, ['G4', 'G3']], [0.375, ['G3', 'G2']], [0.125, ['G3', 'G2']], [0.5, ['G4', 'G3']], [0.375, ['F4', 'F3']], [0.125, ['E4', 'E3']],
            [0.5, ['E♭4', 'E♭3']], [0.375, ['D4', 'D3']], [0.125, ['E♭4', 'E♭3']], [0.25, ['B♭3', 'B♭2']], [0.25, ['D4', 'D3']], [0.25, ['B♭3', 'B♭2']], [0.25, ['D4', 'D3']],
            [0.5, ['G4', 'G3']], [0.375, ['E♭4', 'E♭3']], [0.125, ['G4', 'G3']], [0.5, ['D4', 'D3']], [0.375, ['B♭3', 'B♭2']], [0.125, ['G3', 'G2']],

            // Final chord
            [1.0, ['G3', 'B♭3', 'D4', 'G4']], // G minor chord
            [1.0, ['G2', 'D3', 'G3', 'B♭3', 'D4']] // G minor full orchestral chord
        ]
    },
};

// Add helper methods to MusicData
window.MusicData.getAllMelodyIds = function() {
    return Object.keys(this.MELODIES);
};

window.MusicData.getMelody = function(id) {
    return this.MELODIES[id];
};
